# 连接到QEMU的GDB服务器（默认端口1234）
target remote localhost:1234
# 开启实模式调试支持（x86实模式地址解析）
set architecture i8086
# 在0xFFFF0设置断点（CPU加电后执行的第一条指令地址）
break *0xFFFF0
# 中断向量表中int 13h的入口地址
break *0x004c 

# 定义停止时自动显示当前指令的钩子
define hook-stop
# 显示当前及后续4条指令
  x/5i $pc
end

file bin/kernel
break *0x7c00
break kern_init